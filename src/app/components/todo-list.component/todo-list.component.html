<div *ngIf="card && card.items.length">
  <div *ngFor="let cardItem of card.items" [ngClass]="{'checked': cardItem.done, 'current-item': currentEditItem === cardItem}" 
    (click)="editItem(cardItem)" class="todo-item undone"> 
    <input type="checkbox" [checked]="cardItem.done" (click)="toggleCheck(cardItem)">
    <static-input (keydown)="onKeyDownEdit($event)" (blur)="onBlur()"
      [(text)]="cardItem.text" [isEdit]="currentEditItem === cardItem"></static-input>
    <span class="remove-item" (click)="removeThisItem(cardItem)">X</span>
  </div>

  <div class="new-task" *ngIf="!isRemoveNewItemButton" [ngClass]="{'hide': !!currentEditItem}" (click)="createNewItem()">+ Новая задача</div>

  <div class="done">
    <span *ngIf="list.doneItems.length" (click)="isShowDoneItems = !isShowDoneItems">
    <span class="done-title" [ngClass]="{'closed': !isShowDoneItems}">What was already done ({{list.doneItems.length}}):</span></span>
  
    <div *ngIf="isShowDoneItems" class="done-items">
      <mat-list *ngFor="let todoItem of list.doneItems" 
        class="todo-item checked"> 
          <input type="checkbox" [checked]="todoItem.done" (click)="toggleCheck(todoItem)">
          <span>{{todoItem.text}}</span>
          <span class="remove-item" (click)="removeThisItem(todoItem)">x</span>
        </mat-list>
    </div>
  </div>
</div>